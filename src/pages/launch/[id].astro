---
import type { GetStaticPaths } from "astro";
import {type Doc} from '../../types/api'

import {getLaunchById, getLaunches} from '../../services/spacex-launches.astro'
import Layout from '../../layouts/Layout.astro'

const { id } = Astro.params as any
let launch
console.log([id]);
if(id){
    launch = getLaunchById({id})
    console.log('launch: ', id);
    
}

export const getStaticPaths = (async () => {
    const launches = await getLaunches()

    return launches.map(launchMap => ({
        params : { id: launchMap.id}
    }))
});

---

<Layout title='launch'>
    {id}
</Layout>